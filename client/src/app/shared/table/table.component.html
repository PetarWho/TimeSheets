<div class="table-container">
  <table class="app-table" mat-table [dataSource]="dataSource" matSort>
    <ng-container *ngFor="let column of columns" [matColumnDef]="column.key">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        [attr.sortActionDescription]="
          column.sortDescription || 'Sort by ' + column.header
        "
        class="table-header"
      >
        {{ column.header }}
      </th>
      <td mat-cell *matCellDef="let element" class="table-cell">
        {{ formatValue(column, element[column.key]) }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
      mat-row
      class="table-row"
      *matRowDef="let row; columns: displayedColumns"
      (click)="onRowClick(row)"
      [class.selected]="isRowSelected(row)"
    ></tr>
  </table>
</div>
